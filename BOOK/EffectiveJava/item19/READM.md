# Item19 - 상속을 고려해 설계하고 문서화하라, 그러지 않았다면 상속을 금지하라

그다지 중요한 내용은 아닌듯 하다.

### 핵심 내용

- 상속용 클래스를 설계하기란 만만치 않다.
- 자기사용 패턴을 모두 문서로 남겨야 한다.
- 문서화한 내용은 반드시 지켜야 한다.
- 다른 사용자가 효율적인 하위클래스를 만들 수 있게 하기 위해 일부 메서드를 protected로 선언해야할 수도 있다.

> 상속용 클래스는 재정의할 수 있는 메서드들을 내부적으로 어떻게 이용하는지 문서로 남겨야 한다.
>

public 혹은 protected로 선언된 final이 아닌 메서드(API)들은 다른 API들의 구현이 될 수도 있다. 그렇기 때문에 어떤 메서드를 재정의하여 변경했을 때, 의도치 않게 다른 메서드의 내부 동작에 오류를 발생시킬 수 있기 때문에 이를 문서로 남겨야 한다.

[상속보다는 컴포지션을 사용하자](https://dev-cool.tistory.com/22)

혹은 public 메서드를 재정의했을 때 여기서 호출하는 private메서드도 재정의하지 않으면 문제가 발생하는 경우가 존재할 수도 있다.  그렇기에 구현을 protected로 외부에 공개해야할 수도 있다.

그렇기에 더욱 꼼꼼하게 노출할 메서드를 구분하여야하고, 테스트를 진행하여야 한다.

상속용으로 설계한 클래스는 배포 전에 반드시 하위 클래스를 만들어 검증해야 한다.

> 상속용 클래스의 생성자는 직접적으로든 간접적으로든 재정의 가능 메서드를 호출해서는 안된다.
>

하위 클래스 생성자는 먼저 상위 클래스의 생성자를 먼저 호출한다.

따라서 생성자에서는 하위 클래스에서 재정의된 메서가 아닌 상위 클래스의 메서드가 호출될 것이다.

<aside>
💡 재정의가 불가능한 메서드(private, static, final)는 생성자에서 안심하고 호출해도 된다.

</aside>

### 결론

클래스를 상속용으로 설계하려면 엄청난 노력이 들고, 그 클래스에 안기는 제약도 상당하다.

그러니 상속용으로 설계되지 않은 클래스는 상속을 금지하고, 상속보다는 컴포지션을 사용하자.